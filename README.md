# Модуль трансляции растровых интерактивных изображений в систему виртуальной реальности
## Введение
Современные системы виртуальной реальности (СВР) активно применяются в тренажерных комплексах для обучения оперативного персонала сложного технологического объекта (СТО). Однако в ряде случаев возникает необходимость интеграции внешних источников данных, таких как:
-	Анимированные технологические схемы, отображающие топологию моделирующего оборудования;
-	Обучающие ролики или рабочее место инструктора, расположенные на удаленных компьютерах.

Основная проблема заключается в том, что существующие решения не поддерживают прямой трансляции динамического контента с локальных или удаленных рабочих столов, а также не обеспечивают интерактивного взаимодействия с этим контентом (например, нажатия кнопок на схеме).
Разрабатываемый модуль трансляции решает следующие задачи:
-	Передача изображений – захват и передача скриншотов выбранного экрана (локального или удаленного) в СВР с заданной частото;
-	Обратная связь – прием событий ввода (кликов мыши) из СВР и их применение на исходном компьютере;
-	Минимизация задержек – обеспечение плавного обновления изображений и отзывчивости интерфейса.

Применение модуля позволяет:
-	Отображать технологические схемы в ВР без необходимости снятия ВР оборудования;
-	Взаимодействовать с технологическими схемами (управлять оборудованием непосредственно через технологические схемы, осуществлять межсхемные переходы);
-	Запускать обучающие материалы (видеоролики).

Таким образом, модуль расширяет функциональность СВР, обеспечивая интеграцию с внешними источниками данных и повышая эффективность обучения оперативного персонала.

## Структура проекта
```text
project/
├── ue/                    # Unreal Engine проект
│   ├── Content/           # Ассеты
│   └── Plugins/           # Плагин
│
├── backend/               # Бекенд
│   
├── gui/                   # Графический интерфейс
│
├── .gitignore
└── README.md
```

## Архитектура решения
Решение строится по схеме клиент-серверного взаимодействия через TCP-протокол:
Серверная часть (Модуль трансляции):
1.	Работает на ПК с целевым контентом (локальном или удаленном);
2.	Захватывает изображения выбранного экрана с заданной частотой;
3.	Передает снимки клиенту в сжатом формате;
4.	Принимает и обрабатывает события ввода от клиента.
Клиентская часть (UE-плагин):
1.	Работает на компьютере с СВР;
2.	Принимает и отображает изображения на 3D-примитиве в VR-среде;
3.	Передает координаты взаимодействий пользователя обратно на сервер;
Основные требования к задаче:
1. Трансляция изображений:
-	Захват и передача снимков выбранного экрана (локального/удаленного ПК) в систему виртуальной реальности (СВР):
-	Поддержка настраиваемой частоты обновления;
-	Сжатие изображений (JPEG) для оптимизации трафика.
2. Обратная связь
-	Прием событий мыши (Нажатия левой/правой кнопок мыши) из СВР;
-	Точная эмуляция кликов на целевом экране с учетом нормализованных координат (0–1).
3. Unreal Engine:
-	Отображение переданных изображений на 3D-примитиве (плоскости) в VR-среде;
-	Передача координат кликов с примитива обратно на сервер.
4. Управление и настройка:
-	Графический интерфейс (GUI) для выбора монитора, частоты обновления и параметров качества;
-	Логирование работы системы для диагностики.
5. Другое
-	ПК с модулем трансляции может быть запущен как на том же компьютере с Unreal Engine, так и на удаленном компьютере в LAN/WAN

### Протокол двустороннего обмена данными

#### Сервер → Клиент (Изображение)

IMG:[4 байта – размер данных][JPEG/PNG данные]

IMG: – сигнатура сообщения.
[4 байта] – размер изображения в формате big-endian.
[данные] – бинарные данные изображения (JPEG/PNG).

#### Клиент → Сервер (Событие мыши)

MOUSE:[тип],[x],[y]\n
MOUSE: – сигнатура сообщения.
[тип] – click
[x],[y] – координаты (целые числа).
\n – завершающий символ.

## Интеграция в другие проекты
Для внедрения в другие проекты необходимо объект с blueprint BP_ClickableObject_New перенести в желаемое место, а также изменить координаты примитива в коде
